(this["webpackJsonpsay-it-client"]=this["webpackJsonpsay-it-client"]||[]).push([[0],{18:function(e,A,a){},19:function(e,A){e.exports="data:image/jpeg;base64,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"},29:function(e,A,a){},31:function(e,A,a){e.exports=a.p+"static/media/Spotify_Logo.6ff1f54c.svg"},35:function(e,A,a){e.exports=a(51)},40:function(e,A,a){},41:function(e,A,a){},45:function(e,A,a){},51:function(e,A,a){"use strict";a.r(A);var t=a(0),n=a.n(t),l=a(14),c=a.n(l),r=(a(29),a(31)),s=a.n(r),i=function(){return n.a.createElement("div",{className:"panel"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"title-div"},n.a.createElement("h1",null,"SAY IT WITH A SONG"),n.a.createElement("p",null,"a ",n.a.createElement("a",{href:"https://www.spotify.com/",target:"_blank",rel:"noopener noreferrer"},n.a.createElement("img",{id:"logo",src:s.a,alt:"Spotify logo"}))," web app")),n.a.createElement("div",{className:"desc-div"},n.a.createElement("hr",null),n.a.createElement("p",null,"create custom Spotify playlists from ",n.a.createElement("span",{className:"bold"},"personalized messages"))),n.a.createElement("p",{style:{display:"none"},className:"about-contact"},"about | contact")))},o=a(3),m=a(6),u=a(19),d=a.n(u),p={loggedIn:!1,noFind:!1,playlist:[],shareurl:"",settings:{case:!1,punctuation:!1,advanced:{length:"minimum",explicit:!0}},user:{}},E=function(e,A){switch(A.type){case"NEW_PLAYLIST":return Object(m.a)(Object(m.a)({},e),{},{playlist:A.payload||[],noFind:!A.payload});case"CREATE_USER":return Object(m.a)(Object(m.a)({},e),{},{user:{id:A.payload.id,name:A.payload.display_name,image:A.payload.images[0]?A.payload.images[0].url:d.a},loggedIn:!0});case"LOGOUT":return Object(m.a)(Object(m.a)({},e),{},{loggedIn:!1,user:{}});case"SHARE":default:return e}},g=Object(t.createContext)(p),h=function(e){var A=e.children,a=Object(t.useReducer)(E,p),l=Object(o.a)(a,2),c=l[0],r=l[1];return Object(t.useEffect)((function(){fetch("/sethost").then((function(e){return e.json()})).then((function(e){sessionStorage.setItem("dev",e.dev),sessionStorage.setItem("hostURL",e.url)}));var e=JSON.parse(sessionStorage.getItem("playlist"));e&&r({type:"NEW_PLAYLIST",payload:e});var A=JSON.parse(sessionStorage.getItem("user"));A?r({type:"CREATE_USER",payload:A}):fetch("/check-auth").then((function(e){200===e.status?e.json().then((function(e){r({type:"CREATE_USER",payload:e}),sessionStorage.setItem("user",JSON.stringify({id:e.id,display_name:e.display_name,images:e.images}))})):204!==e.status&&console.log("Authentication error: "+e.status)}))}),[]),n.a.createElement(g.Provider,{value:{state:c,dispatch:r}},A)},f=function(e,A){var a=n.a.useState(JSON.parse(sessionStorage.getItem(e))||A),t=Object(o.a)(a,2),l=t[0],c=t[1];return n.a.useEffect((function(){sessionStorage.setItem(e,JSON.stringify(l))}),[e,l]),[l,c]},y=function(){var e=Object(t.useContext)(g),A=e.dispatch,a=e.state,l=a.user,c=a.loggedIn;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"profile"},n.a.createElement("p",{className:"user-name",onClick:function(){b("profile-dropdown")}},c?l.name:""),n.a.createElement("img",{src:c?l.image:d.a,alt:"profile",className:"profile-image",onClick:function(){b("profile-dropdown")}}),n.a.createElement("div",{className:"dropdown",id:"profile-dropdown",onClick:c?function(){A({type:"LOGOUT"}),sessionStorage.removeItem("user"),fetch("/logout",{method:"POST",credentials:"include"}).then(window.location.reload())}:v},n.a.createElement("span",null,c?"Log Out":"Log In"))))},v=function(){window.location.href=1==sessionStorage.getItem("dev")?"http://localhost:8888/login":"/login"};function b(e){var A=document.getElementById(e);"none"!==A.style.display&&A.style.display||(A.style.display="flex",function(e){var A=function(A){e.style.display="none",a()},a=function(){document.removeEventListener("click",A)};document.addEventListener("click",A)}(A))}a(40);var S,N=function(e){var A=e.checked,a=e.id,t=e.onChange;return n.a.createElement("label",{className:"switch"},n.a.createElement("input",{type:"checkbox",id:a,checked:A?"checked":"",onChange:function(e){t(e.target.checked)}}),n.a.createElement("span",{className:"slider round"}))},k=(a(18),function(e){var A=e.children,a=e.display,t=e.setDisplay,l=e.className;return a?c.a.createPortal(n.a.createElement("div",{className:"modal-wrapper "+l+"-wrap"},n.a.createElement("div",{className:"modal-background "+l+"-bg",onClick:function(){t(!1)}}),n.a.createElement("div",{className:"modal-box "+l},A)),document.getElementById("modal-root")):null}),O=(a(41),a(64)),w=a(22),C=Object(w.a)({root:{color:"#EAD832",height:8},thumb:{height:24,width:24,backgroundColor:"#fff",marginTop:-8,marginLeft:-12,"&:focus, &:hover, &$active":{boxShadow:"inherit"}},active:{},valueLabel:{left:"calc(-50% + 4px)"},track:{height:8,borderRadius:4},rail:{height:8,borderRadius:4}})(O.a),j=function(e){var A=e.depth,a=e.explicit,t=Object(o.a)(e.handleChange,3),l=(t[0],t[1]),c=t[2];return n.a.createElement(k,Object.assign({},e,{className:"advanced"}),n.a.createElement("h1",null,"ADVANCED SEARCH SETTINGS"),n.a.createElement("h4",null,"Spotify search depth"),n.a.createElement("div",{className:"slider-and-input"},n.a.createElement("div",{className:"slider-container"},n.a.createElement(C,{value:A,defaultValue:50,min:1,max:50,onChange:function(e,A){c(Math.round(A))}})),n.a.createElement("input",{type:"text",className:"slider-input",value:A,onChange:function(e){c(isNaN(e.target.value)?A:Math.min(Math.max(Math.round(Number(e.target.value)),1),50))},onClick:function(e){e.target.setSelectionRange(0,e.target.value.length)}})),n.a.createElement("p",null,"Number of songs returned in each Spotify query. Keep this small if you want a faster search time or high if you aren't getting the search result you want."),n.a.createElement("hr",null),n.a.createElement("label",{className:"switch-label"},n.a.createElement(N,{id:"explicit",checked:a,onChange:l}),"Allow explicit songs"),n.a.createElement("hr",null))},I=(a(45),function(){for(var e=[],A=0;A<5;A++)e.push(n.a.createElement("div",{className:"bar",style:x(A),key:A}));return n.a.createElement("div",{id:"bars",style:D},e)}),x=function(e){return{display:"block",background:"#877D23",borderRadius:"15px",bottom:"0px",height:"6px",width:"15px",animation:"wave 1.3s infinite ease-in-out",animationDelay:.2*e+"s",alignSelf:"center",margin:"0 3px"}},D={position:"relative",display:"flex",height:"60px"},q=function(e){var A=e.depth*(e.count*(e.count+1))/2,a=Math.pow(2,e.count-1);return n.a.createElement(k,Object.assign({},e,{className:"load"}),n.a.createElement("div",{className:"searching"},n.a.createElement("h3",null,"SEARCHING..."),n.a.createElement(I,null)),n.a.createElement("p",null,"hang on, we\u2019re looking through ",n.a.createElement("span",{className:"bold"},A)," songs and ",n.a.createElement("span",{className:"bold"},a)," possible word combinations"),n.a.createElement("div",{className:"btn",id:"cancel",onClick:e.cancel},"CANCEL"))},F=a(32),B=a.n(F),Q=function(){var e=Object(t.useContext)(g).dispatch,A=Object(t.useState)(!1),a=Object(o.a)(A,2),l=a[0],c=a[1],r=f("user-input",""),s=Object(o.a)(r,2),i=s[0],u=s[1],d=f("advanced-display",!1),p=Object(o.a)(d,2),E=p[0],h=p[1],y=f("matchPunctuation",!1),v=Object(o.a)(y,2),b=v[0],k=v[1],O=f("matchCase",!1),w=Object(o.a)(O,2),C=w[0],I=w[1],x=f("advanced-settings",{length:"minimum",explicit:!0,depth:50}),D=Object(o.a)(x,2),F=D[0],Q=D[1];return n.a.createElement("div",{className:"say-it"},n.a.createElement(j,{display:E,setDisplay:h,handleChange:[function(){Q(Object(m.a)(Object(m.a)({},F),{},{length:document.querySelector('input[name="length"]:checked').value}))},function(e){Q(Object(m.a)(Object(m.a)({},F),{},{explicit:e}))},function(e){Q(Object(m.a)(Object(m.a)({},F),{},{depth:e}))}],depth:F.depth,explicit:F.explicit}),n.a.createElement(q,{display:l,setDisplay:function(e){},count:i.split(" ").length,depth:F.depth,cancel:function(){S.abort()}}),n.a.createElement("div",{className:"left"},n.a.createElement("p",{className:"desc"},"type a message and we'll find songs that write it out"),n.a.createElement("textarea",{value:i,onChange:function(e){return u(e.target.value)},placeholder:"say it here..."}),n.a.createElement("div",{className:"settings"},n.a.createElement("label",null,n.a.createElement(N,{id:"case",checked:C,onChange:I}),"match case"),n.a.createElement("label",null,n.a.createElement(N,{id:"punctuation",checked:b,onChange:k}),"match punctuation"),n.a.createElement("span",{className:"advanced",onClick:function(){return h(!0)}},"advanced"))),n.a.createElement("div",{className:"btn-container"},n.a.createElement("div",{className:"btn",onClick:function(){S=new AbortController;var A=B.a.stringify({sentence:i,matchCase:C,matchPunctuation:b,length:F.length,explicit:F.explicit,depth:F.depth});c(!0),fetch("/search?"+A,{signal:S.signal}).then((function(e){return 404===e.status?null:e.json()})).then((function(A){c(!1),console.log(A),sessionStorage.setItem("playlist",JSON.stringify(A)),e({type:"NEW_PLAYLIST",payload:A})})).catch((function(e){"abort"!==e&&c(!1)}))}},"SAY IT")))},R=function(e){var A=e.name,a=e.url,t=e.artists,l=e.album,c=e.id,r=e.mobile;return n.a.createElement("li",{className:"song",key:c},r?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"track-mobile"},n.a.createElement("a",{href:a,target:"_blank",rel:"noopener noreferrer"},A)),n.a.createElement("div",{className:"artist-album-mobile"},t.map((function(e,A){return n.a.createElement(n.a.Fragment,{key:A},n.a.createElement(n.a.Fragment,null,A?", ":""),n.a.createElement("a",{href:e.external_urls.spotify,target:"_blank",rel:"noopener noreferrer"},e.name))})),l.name?n.a.createElement(n.a.Fragment,null,n.a.createElement("span",null,"\xa0",n.a.createElement("span",{style:{fontSize:"0.5em",display:"table-caption"}},"\u25cf"),"\xa0"),n.a.createElement("a",{href:l.external_urls.spotify,target:"_blank",rel:"noopener noreferrer"},l.name)):null)):n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"track"},n.a.createElement("a",{href:a,target:"_blank",rel:"noopener noreferrer"},A)),n.a.createElement("span",{className:"artist"},t.map((function(e,A){return n.a.createElement(n.a.Fragment,{key:A},n.a.createElement(n.a.Fragment,null,A?", ":""),n.a.createElement("a",{href:e.external_urls.spotify,target:"_blank",rel:"noopener noreferrer"},e.name))}))),n.a.createElement("span",{className:"album"},n.a.createElement("a",{href:l.external_urls.spotify,target:"_blank",rel:"noopener noreferrer"},l.name))))},V=function(){var e=Object(t.useContext)(g).state,A=e.playlist,a=e.noFind;return n.a.createElement(n.a.Fragment,null,n.a.createElement("hr",{className:"mobile-divider"}),n.a.createElement("div",{className:"playlist"}," ",a?n.a.createElement("div",{className:"nofind"},n.a.createElement("h2",null,"No results found"),n.a.createElement("p",null,"Try changing the search settings or picking a slightly different phrase")):n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"desktop-playlist"},n.a.createElement("div",{className:"header"},n.a.createElement("span",{className:"title"},"title"),n.a.createElement("span",{className:"artist"},"artist"),n.a.createElement("span",{className:"album"},"album")),n.a.createElement("ul",{className:"songs"},A.map((function(e,A){var a=e.name,t=e.url,l=e.artists,c=e.album,r=e.id;return n.a.createElement(R,{name:a,url:t,artists:l,album:c,id:r,key:A})})))),n.a.createElement("div",{className:"mobile-playlist"},n.a.createElement("ul",{className:"songs"},A.map((function(e,A){var a=e.name,t=e.url,l=e.artists,c=e.album,r=e.id;return n.a.createElement(R,{name:a,url:t,artists:l,album:c,id:r,key:A,mobile:!0})})))))))},U=function(e){return Object(t.useEffect)((function(){M("url-box")})),n.a.createElement(k,Object.assign({},e,{className:"share-it"}),n.a.createElement("h1",null,"SHARE IT"),n.a.createElement("div",{className:"wrapper"},n.a.createElement("input",{type:"text",className:"url-box",id:"url-box",readOnly:!0,value:e.url}),n.a.createElement("div",{id:"copy"},n.a.createElement("div",{className:"btn",onClick:function(){M("url-box"),document.execCommand("copy"),document.getElementById("copied").classList.add("active")}},"COPY"),n.a.createElement("div",{id:"copied"},"copied!"))),n.a.createElement("p",{className:"desc"},"Share this link with someone to give them access to this playlist directly within our app"))};function M(e){(e=document.getElementById(e))&&(e.focus(),e.select())}var L=a(2),W=function(){var e=Object(t.useState)(!1),A=Object(o.a)(e,2),a=A[0],l=A[1],c=Object(t.useContext)(g),r=c.state,s=r.playlist,i=r.noFind,m=c.dispatch,u=sessionStorage.getItem("hostURL")+"/share?"+s.map((function(e){return"id="+e.id})).join("&");return n.a.createElement(n.a.Fragment,null,n.a.createElement(L.b,{path:"/share",render:function(e){var A=e.location;return n.a.createElement(P,{dispatch:m,location:A})}}),n.a.createElement(U,{display:a,setDisplay:l,url:u}),n.a.createElement("div",{className:"btn"+(i||0===s.length?" gray":""),onClick:function(){l(!0)}},"SHARE IT"))},P=function(e){var A=e.location,a=e.dispatch;return Object(t.useEffect)((function(){fetch("/playlistByID"+A.search).then((function(e){404===e.status?console.log("Invalid share link: unable to retrieve songs from Spotify"):e.json().then((function(e){sessionStorage.setItem("playlist",JSON.stringify(e)),a({type:"NEW_PLAYLIST",payload:e})}))}),(function(e){console.log(e),console.log("Invalid share link: unable to retrieve songs from Spotify")}))})),n.a.createElement(L.a,{to:"/"})},T=function(e){return n.a.createElement(k,Object.assign({},e,{className:"load-screen"}),n.a.createElement(I,null))},X=function(e){var A=Object(t.useContext)(g).state,a=A.user,l=A.playlist,c=Object(t.useState)(!1),r=Object(o.a)(c,2),s=r[0],i=r[1],m=Object(t.useState)(""),u=Object(o.a)(m,2),d=u[0],p=u[1],E=Object(t.useState)(""),h=Object(o.a)(E,2),f=h[0],y=h[1];return n.a.createElement(k,Object.assign({},e,{className:"save-it"}),n.a.createElement(T,{display:s,setDisplay:function(e){}}),n.a.createElement("h1",null,"SAVE IT TO SPOTIFY"),n.a.createElement("p",{className:"logIn"},"logged in as ",a.name," (",n.a.createElement("span",{id:"change",onClick:v},"change"),")"),n.a.createElement("div",{className:"fields"},n.a.createElement("p",null,"Name"),n.a.createElement("input",{type:"text",className:"name",value:d,placeholder:"Playlist name",onChange:function(e){p(e.target.value)}}),n.a.createElement("p",null,"Description"),n.a.createElement("textarea",{className:"desc",value:f,placeholder:"Give your playlist a catchy description",onChange:function(e){y(e.target.value)}})),n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"btn",id:"save",onClick:function(){H(l,a.id,d,f,i,e.setDisplay)}},"SAVE"),n.a.createElement("p",{id:"created"},"(playlists will be created as private)")))},H=function(e,A,a,t,n,l){n(!0),fetch("/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uris:e.map((function(e){return e.uri})),userID:A,name:a,desc:t})}).then((function(e){console.log(e.status),n(!1),l(!1)})).catch((function(e){n(!1)}))},K=function(){var e=Object(t.useContext)(g).state,A=e.loggedIn,a=e.playlist,l=f("saveitDisplay",!1),c=Object(o.a)(l,2),r=c[0],s=c[1];return n.a.createElement("div",{className:"save-it"},n.a.createElement(X,{display:r,setDisplay:s}),n.a.createElement("p",{className:A||0===a.length?"loggedIn":"",onClick:v},"log in to Spotify to"),n.a.createElement("div",{className:"btn"+(A&&0!==a.length?" green":" gray"),id:"save-it",onClick:A?function(){s(!0)}:null},"SAVE IT"))},z=a(25);var J=function(){return n.a.createElement(z.a,null,n.a.createElement(h,null,n.a.createElement("div",{className:"App"},n.a.createElement(k,null),n.a.createElement(i,null),n.a.createElement("div",{className:"main"},n.a.createElement(y,null),n.a.createElement("div",{className:"container"},n.a.createElement(Q,null),n.a.createElement("div",{className:"lower"},n.a.createElement(V,null),n.a.createElement("div",{className:"buttons"},n.a.createElement(W,null),n.a.createElement(K,null))))))))};a(50);c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(J,null)),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.5eb40c2d.chunk.js.map